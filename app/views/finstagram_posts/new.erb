<h2>New Post</h2>

<ul class="errors">
  <% @finstagram_post.errors.full_messages.each do |message| %>
    <li><%= message %></li>
  <% end %>
</ul>

<form action="/finstagram_posts" method="POST">
  <div class="form-group">
    <label for="photo_url">Photo URL</label>
    <input type="text" id="photo_url" name="photo_url">
  </div>
  <div class="form-group">
    <button class="button" type="submit">Post</button>
  </div>
</form>

<img id="preview" style="display: none; max-width: 200px" src="">

<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
    $(document).ready(function() { // Wait for page to finish loading before running the following
        $("#photo_url").on("blur", function(event) { // Any time the text box loses focus, run the following
            var photo_url = $(this).val(); // Save the contents of the text box to a variable
            var preview = $("#preview");
            if (photo_url) {
                preview.attr("src", photo_url)
                preview.show();
            } else {
                preview.hide();
            }
        });
    });
</script>
